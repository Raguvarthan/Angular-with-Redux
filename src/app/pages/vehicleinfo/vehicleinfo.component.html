<div class="page-details row">
    <span class="col-sm-6">
        <h2> Vehicle Info</h2>
    </span>
    <span class="col-sm-6 text-right">
        <a class="addbtn" data-toggle="modal" data-target="#myModal" (click)="crudType('add');openModal(template)">
            <i class="fa fa-plus-circle" aria-hidden="true"></i>
        </a>
    </span>
</div>
<div class="vehicle-data-table">
    <div class="table-caption row">
        <span class="col-sm-2">#</span>
        <span class="col-sm-2">Vehicle No</span>
        <span class="col-sm-2">Vehicle Type</span>
        <span class="col-sm-2">Vehicle no wheels</span>
        <span class="col-sm-2">Vehicle capacity</span>
        <span class="col-sm-2">Action</span>
    </div>

    <div class="table-row row" *ngFor="let vehicle of vehicleViewData | async; let i = index;">
        <span class="col-sm-2"> {{i + 1}}</span>
        <span class="col-sm-2">{{vehicle.vehicleNo}}</span>
        <span class="col-sm-2">{{vehicle.vehicleType}}</span>
        <span class="col-sm-2">{{vehicle.vehicleNoWheel}}</span>
        <span class="col-sm-2">{{vehicle.vehicleCapacity}}</span>
        <span class="col-sm-2">
            <button class="btn editbtn" (click)="openModal(template);crudType('edit',vehicle);"> Edit </button>
        </span>
    </div>
</div>


<!-- Bootstrap Modal -->

<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">{{formAction}} Vehicle Info</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="addForm">
            <form #f="ngForm">
                <div class="row">
                    <span class="col-sm-12 form-group">
                        <span class="col-sm-6">
                            <label> Vehicle No </label>
                        </span>
                        <span class="col-sm-6">
                            <input type="text" name="vehicleNo" [(ngModel)]="vehicleData.vehicleNo" placeholder="" class="form-control">
                        </span>
                        <input type="hidden" name="vehicleId" [(ngModel)]="vehicleData.vehicleId" class="form-control">
                    </span>
                </div>
                <div class="row">
                    <span class="col-sm-12 form-group">
                        <span class="col-sm-6">
                            <label> Vehicle Type </label>
                        </span>
                        <span class="col-sm-6">
                            <input type="text" name="vehicleType" [(ngModel)]="vehicleData.vehicleType" placeholder="" class="form-control">
                        </span>
                    </span>
                </div>
                <div class="row">
                    <span class="col-sm-12 form-group">
                        <span class="col-sm-6">
                            <label>Vehicle no of Wheels </label>
                        </span>
                        <span class="col-sm-6">
                            <input type="text" name="vehicleNoWheel" [(ngModel)]="vehicleData.vehicleNoWheel" placeholder="" class="form-control">
                        </span>
                    </span>
                </div>
                <div class="row">
                    <span class="col-sm-12 form-group">
                        <span class="col-sm-6">
                            <label>Vehicle capacity </label>
                        </span>
                        <span class="col-sm-6">
                            <input type="text" name="vehicleCapacity" [(ngModel)]="vehicleData.vehicleCapacity" placeholder="" class="form-control">
                        </span>
                    </span>
                </div>
                <div class="row">
                    <span class="col-sm-6 form-group">
                        <div *ngIf="formAction === 'Add'">
                        <button class="btn savebtn" (click)="insertVehicle(vehicleData)">
                            <span>Save</span>                            
                        </button>
                        </div>
                        <div *ngIf="formAction === 'Edit'">
                        <button class="btn savebtn" (click)="updateVehicle(vehicleData)">
                            <span>Update</span>                            
                        </button>
                        </div>
                    </span>
                    <span class="col-sm-6 form-group text-right">
                        <button type="reset" class="btn cancelbtn" (click)="modalRef.hide()">Cancel</button>
                    </span>
                </div>
            </form>
        </div>
    </div>
</ng-template>